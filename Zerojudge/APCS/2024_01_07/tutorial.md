# APCS 1月份(2024) 實作題題解

## 前言
此份題解皆以高中生程式解題系統的題目為準，AC程式碼僅代表能通過ZJ上的題目，不代表能在APCS考場有一模一樣的表現。

##  1. 遊戲選角
https://zerojudge.tw/ShowProblem?problemid=m931

用STL的sort加上自定義排序後輸出第二大即可
```cpp
bool cmp(pair<int,int> a, pair<int,int> b){
    return a.F*a.F+a.S*a.S > b.F*b.F+b.S*b.S;
}
```

##  2. 蜜蜂觀察
https://zerojudge.tw/ShowProblem?problemid=m932

由於蜂巢是不斷往左下延伸的，我們可以將陣列看成一個平行四邊形
可以先把第i列蜂巢前面加上`r-i`個字元(隨便用什麼都行)

定義 r 為第r列(橫)， c 為第c行(直)

各種操作就變成：

右上 ->  `{r-1, c+1}`

右      ->  `{r  , c+1}`

右下 ->  `{r+1, c  }`

左下 ->  `{r+1, c-1}`

左      ->  `{r  , c-1}`

左上 ->  `{r-1, c  }`

之後照著操作一步一步走，走之前先做邊界判斷，走完後輸出字並把字放到set裡(重複的不會被塞進去)

最後輸出set的size就好

##  3. 邏輯電路
https://zerojudge.tw/ShowProblem?problemid=m933

模擬題，用拓撲排序去找到沒有入邊的節點，存下每個節點的種類和輸出情況，邏輯門要額外存輸入情況，而邏輯門的模擬可以直接用邏輯運算子

把當前節點的輸出情況不斷傳給相連的節點，最後把輸出端口的結果印出來即可

再來是最長路，某節點最後的入邊一定是最長路，從輸入端開始長度記為0，把最後的入邊的長度+1就好，最後把每個輸出至輸出端口的節點的長度取max

注意不能直接看邏輯門的長度，因為可能有邏輯門沒有連到輸出端口的情況(被這個搞很久)

## 4. 合併成本
https://zerojudge.tw/ShowProblem?problemid=m934

首先可以發現某個連續段的數字不管如何操作，合併後的值必定一樣

我們先從小範圍開始看
假設只有1個數字 那最小花費必然是0
如果2個 最小花費是 `|a-b|`
再來是3個，注意到必須要相鄰的數字才能合併，其實把3個數字只有兩種方法

設`a1, a2, a3`為三個數字
我們可先合併`a1, a2`或`a2, a3`，再合併剩下的，然後取花費少的
這樣做後我們發現已經找到合併這三個數字的最佳解了，同時也有`a1, a2` 和`a2, a3`的最佳解

現在把`a4`加進來，在取連續段的限制下其實只有三種合併法，`a1~a3 + a4, a1~a2 + a3~a4, a1 + a2~a4`
不包含`a4`的連續段的最佳解我們已經算出來了，只要處理有`a4`的部分就好

同樣從小範圍開始，`a4`本身就是它自己
`a3~a4` 是他們兩個合併
`a2~a4` 是 `min(a2~a3 + a4, a2 + a3~a4)`
好像發現越來越多重複的東西了?
這時候DP的理念就派上用場了
```
dp[i][j] -> 將第i個數字與其前j-1個數字合併的最小費用
dp[i][j] = min(dp[i][k] + dp[i][j-k] + abs(sum(j~j-k+1) - sum(j-k~1)))
k = {1, 2, 3..., j-1}

當然我們可以把sum的訊息也存進dp裡，省去計算時間
```
總時間複雜度`O(n^3)`

# 後記
前一天才發現海選跟APCS同一天，不過我不用考APCS了 :D